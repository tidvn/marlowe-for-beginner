**Blockchain**

Marlowe **là ngôn ngữ cấp cao dành riêng cho miền (DSL) sử dụng cho các hợp đồng tài chính được xây dựng trên Plutus**. Sân Chơi Marlowe, một nền tảng xây dựng ứng dụng dễ sử dụng mà những người không phải là lập trình viên cũng có thể sử dụng để xây dựng các hợp đồng thông minh tài chính.

Marlowe được thiết kế để hoạt động với các chuỗi khối nói chung, một số chi tiết về cách nó tương tác với chuỗi khối có liên quan khi mô tả ngữ nghĩa và cách triển khai Marlowe.

![Công nghệ Blockchain là gì? Tiềm năng & ứng dụng thực tế](https://topdev.vn/blog/wp-content/uploads/2023/02/cong-nghe-blockchain-scaled.jpg)

**Constracts**

Hợp đồng thông minh ở Marlowe chạy trên blockchain, người tham gia có thể tương tác với hợp đồng này. Người dùng có thể tham gia các hoạt động như: gửi tiền hoặc các hoạt động trao đổi.

Contracts: (Hợp đồng thông minh) là những hợp đồng kỹ thuật số lưu trữ trên chuỗi phân tán (blockchain) hoạt động một cách tự động khi thỏa mãn các điều khoản hợp đồng đã được xác định trước.

![Smart Contract là gì? Những điều cần biết về Smart Contract](https://statics.cdn.200lab.io/2022/05/smart-contract-la-gi-1633686064389.jpg)

**The Marlowe model**

Marlowe được thiết kế để hỗ trợ thực hiện các hợp đồng tài chính trên blockchain và đặc biệt là hoạt động trên Cardano. Hợp đồng được xây dựng bằng cách tập hợp một số ít cấu trúc có thể kết hợp để mô tả nhiều loại hợp đồng tài chính khác nhau.

**Participants, roles, and public key**

Người tham gia (hoặc bên) trong hợp đồng có thể được đại diện bởi a `role`hoặc a `public key`

*Các vai trò* được thể hiện bằng token (mã) và chúng được phân phối đến các địa chỉ tại thời điểm hợp đồng được triển khai trên blockchain. Sau đó, bất kỳ ai có token (mã) đại diện cho một vai trò đều có thể thực hiện các hành động được chỉ định cho vai trò đó và nhận các khoản thanh toán được phát cho vai trò đó.

**Public key* parties: (khoá công khai của người tham gia)* , được biểu thị bằng hàm băm của public key*(khóa chung)* (hoặc cuối cùng là [địa chỉ](https://docs.cardano.org/learn/cardano-addresses) ). Sử dụng khóa chung để đại diện cho các bên đơn giản hơn vì nó không yêu cầu xử lý token (mã).

### Accounts

Tất cả các bên tham gia hợp đồng đều ngầm sở hữu một tài khoản mang tên mình. Toàn bộ tài sản lưu giữ trong hợp đồng phải thuộc tài khoản của một trong các bên; Bằng cách này, khi hợp đồng được hoàn tất, tất cả tài sản còn lại trong hợp đồng sẽ thuộc về ai đó và do đó có thể được hoàn trả cho chủ sở hữu tương ứng của họ. Các tài khoản này mang *tính cục bộ* : chúng chỉ tồn tại trong thời gian thực hiện hợp đồng và trong thời gian đó, chúng chỉ có thể truy cập được từ trong hợp đồng.

### Steps and states

Hợp đồng Marlowe mô tả một loạt *các bước* , thường bằng cách mô tả bước đầu tiên, cùng với một hợp đồng (phụ) khác mô tả những việc cần làm tiếp theo.

Ví dụ: hợp đồng `Pay a p t v cont`có nội dung "thanh toán giá trị `v`mã thông báo `t`cho bên `p`từ tài khoản `a`và sau đó thực hiện theo hợp đồng `cont`". Chúng tôi gọi `cont`là *tiếp tục* hợp đồng.

Khi thực hiện một hợp đồng, chúng ta cần theo dõi hợp *đồng hiện tại* (tức là phần còn lại của hợp đồng): sau khi thực hiện một bước như ví dụ trên thì hợp đồng hiện tại là phần tiếp theo.

# 

### UTXO, wallets

Chuỗi khối dựa trên UTXO là một chuỗi *các khối*, mỗi khối chứa một tập hợp các giao dịch. Mỗi *giao dịch* có một tập hợp đầu vào và đầu ra và chuỗi khối được xây dựng bằng cách liên kết *đầu ra giao dịch chưa được chi tiêu* (UTXO) với đầu vào của giao dịch mới. Có thể tạo tối đa một khối trong mỗi *khe* , dài 1 giây.

![Tìm hiểu UTXO là gì?](https://www.fiahub.com/blog/wp-content/uploads/2022/03/a1-8.jpg)

Ví người dùng: sử dụng để tương tác với các hợp đồng thông minh chạy trên blockchain. Tương tác ở đây là dùng để xác thực các giao dịch sử dụng tài sản điện tử. Có 2 cách để ví tương tác là API Marlowe Rest HOẶC Marlowe CLI.

![What Is a Crypto Wallet? How It Works & If You Need One](https://i.insider.com/615b59b4b414c1001863adcb?width=1136&format=jpeg)

### Omniscient simulation

Marlowe hỗ trợ mô phỏng hợp đồng. Đây là một mô phỏng *toàn diện* , trong đó người dùng có thể thực hiện bất kỳ hành động nào cho bất kỳ vai trò nào và do đó có thể quan sát việc thực hiện từ quan điểm của tất cả người dùng cùng một lúc.

<img src="https://www.mdpi.com/electronics/electronics-10-01343/article_deploy/html/images/electronics-10-01343-g001.png" title="" alt="Electronics | Free Full-Text | CioSy: A Collaborative Blockchain-Based  Insurance System" width="486">

### Values and tokens

Khái niệm *giá trị* này bao gồm Ada, mã tiền tệ (vnd, usd), các đồng tiền điện tử (ada, btc) hoặc NFT,...

Tokens: là đồng tiền điện tử được phát hành và hoạt động dựa trên công nghệ blockchain.

![Crypto token types - Monetum](https://monetum.com/wp-content/uploads/2021/09/tokens-scaled.jpg)

## Executing a Marlowe contract

Building a transaction

Việc thực thi hợp đồng Marlowe trên chuỗi khối Cardano có nghĩa là hạn chế các giao dịch do người dùng tạo theo logic của hợp đồng. Nếu tại một thời điểm thực hiện cụ thể, một hợp đồng yêu cầu Alice đặt cọc 100 Ada thì chỉ giao dịch như vậy mới thành công, mọi giao dịch khác sẽ bị từ chối.

Một giao dịch chứa một danh sách *các đầu vào* hoặc *hành động* được sắp xếp theo thứ tự . Trình thông dịch Marlowe được thực thi trong quá trình xác thực giao dịch.

![](C:\Users\Admin\AppData\Roaming\marktext\images\2023-10-18-21-00-16-image.png)
